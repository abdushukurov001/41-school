<!-- {% load static %}
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css"
/>
<link rel="stylesheet" href="{% static 'main/css/news.css' %}" />

<section id="news" class="container mb-5 mt-5" style="scroll-margin-top: 3rem">
  <h2 class="text-center card-title text-dark mb-5">Yangiliklar</h2>
  <div
    id="newsCarousel"
    class="carousel slide"
    data-bs-ride="carousel"
    data-bs-interval="4000"
  >
    <div class="carousel-inner">
      {% for new in news %} {% if forloop.counter0|divisibleby:2 %}
      <div class="carousel-item {% if forloop.first %}active{% endif %}">
        <div class="row row-cols-1 row-cols-sm-1 row-cols-md-2">
          {% endif %}
          <div class="col mb-4 d-flex flex-row">
            <div class="card h-100 shadow-sm flex-row align-items-center">
              <div class="card-body d-flex flex-column w-50">
                <h5 class="card-title text-black">{{ new.title|upper }}</h5>
                <p class="card-text">
                  {{ new.news|slice:":100" }}<span class="dots">...</span>
                  <span
                    class="read-more"
                    data-bs-toggle="modal"
                    data-bs-target="#newsModal"
                    data-title="{{ new.title }}"
                    data-text="{{ new.news }}"
                    data-img="{{ new.news_img.url }}"
                    >Batafsil</span
                  >
                </p>
              </div>
              <img
                src="{{ new.news_img.url }}"
                class="card-img-top w-50"
                alt="Yangilik surati"
              />
            </div>
          </div>
          {% if forloop.counter|divisibleby:2 or forloop.last %}
        </div>
      </div>
      {% endif %} {% endfor %}
    </div>
  </div>

  <div class="carousel-controls-container">
    <button
      class="carousel-control-prev"
      type="button"
      data-bs-target="#newsCarousel"
      data-bs-slide="prev"
    >
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button
      class="carousel-control-next"
      type="button"
      data-bs-target="#newsCarousel"
      data-bs-slide="next"
    >
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>
</section>

<div
  class="modal fade"
  id="newsModal"
  tabindex="-1"
  aria-labelledby="newsModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="newsModalLabel">Modal title</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <img src="" alt="News Image" class="img-fluid mb-3" id="modalImage" />
        <p id="modalText"></p>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>
<script src="{% static 'main/js/news.js' %}"></script> -->

{% load static %}
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css"
/>
<link rel="stylesheet" href="{% static 'main/css/news.css' %}" />

<section id="news" class="container mb-5 mt-5" style="scroll-margin-top: 3rem">
  <h2 class="text-center card-title text-dark mb-5">Yangiliklar</h2>
  <div id="newsSwiper" class="swiper">
    <div class="swiper-wrapper">
      {% for new in news %}
      <div class="swiper-slide">
        <div class="card h-100 shadow-sm">
          <img
            src="{{ new.news_img.url }}"
            class="card-img-top"
            alt="Yangilik surati"
          />
          <div class="card-body">
            <h5 class="card-title text-black">{{ new.title|upper }}</h5>
            <p class="card-text">
              {{ new.news|slice:":100" }}<span class="dots">...</span>
              <span
                class="read-more"
                data-bs-toggle="modal"
                data-bs-target="#newsModal"
                data-title="{{ new.title }}"
                data-text="{{ new.news }}"
                data-img="{{ new.news_img.url }}"
                >Batafsil</span
              >
            </p>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>

  <!-- Modal -->
  <div
    class="modal fade"
    id="newsModal"
    tabindex="-1"
    aria-labelledby="newsModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="newsModalLabel">Yangilik</h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <img id="modalImage" class="img-fluid mb-3" alt="Yangilik surati" />
          <p id="modalText"></p>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            Yopish
          </button>
        </div>
      </div>
    </div>
  </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>
<script src="{% static 'main/js/news.js' %}"></script>
